var posts=function(o){var t={};function e(s){if(t[s])return t[s].exports;var l=t[s]={i:s,l:!1,exports:{}};return o[s].call(l.exports,l,l.exports,e),l.l=!0,l.exports}return e.m=o,e.c=t,e.d=function(o,t,s){e.o(o,t)||Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:s})},e.r=function(o){Object.defineProperty(o,"__esModule",{value:!0})},e.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(t,"a",t),t},e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)},e.p="",e(e.s=2)}([function(o,t){let e=1;o.exports=class{constructor(o,t,s,l,a=[]){this.author=o,this.publDate=new Date(t),this.likes=a,this._id=(e++).toString(),this.description=s,this.photoLink=l,this.tags=s.match(/#[^\s#]*/g)}validate(){return!!("string"==typeof this.author&&"string"==typeof this.description&&this.description&&this.publDate&&this.author&&this.photoLink&&"string"==typeof this.photoLink&&this.likes instanceof Array&&this.likes.reduce((o,t)=>"string"==typeof t,!0)&&"string"==typeof this._id&&this.publDate instanceof Date)}}},function(o,t,e){const s=e(0);o.exports=class{constructor(){this.arr=[]}addPost(o){return o instanceof s&&o.validate()?!this.arr.find(t=>t._id===o._id)&&(this.arr.push(o),this.arr.sort((o,t)=>o-t),!0):(console.log("Incorrect post"),!1)}getPhotoPosts(o=0,t=10,e={}){return"number"!=typeof o||"number"!=typeof t||"object"!=typeof e?(console.log("Incorrect getPhotoPosts params"),!1):this.arr.filter(o=>(!(e.authors instanceof Array)||e.authors.includes(o.author))&&(!(e.tags instanceof Array)||e.tags.every(t=>o.tags.includes(t)))&&(!(e.startDate instanceof Date)||o.publDate>=e.startDate)&&(!(e.endDate instanceof Date)||o.publDate<=e.endDate)).slice(o,o+t)}getPhotoPost(o){return this.arr.find(t=>t._id===o)}editPhotoPost(o,t){const e=this.arr.findIndex(t=>t._id===o);if(-1===e)return console.log("No posts with such ID"),!1;const s=Object.create(this.arr[e].__proto__);for(let o in this.arr[e])s[o]=this.arr[e][o];const l=["description","author","publDate","likes","photoLink"];for(let o of l)s[o]=void 0!==t[o]?t[o]:s[o];return s.tags=s.description.match(/#[^\s#]*/g),s.validate()?(this.arr[e]=s,!0):(console.log("Incorrect post editing"),!1)}removePhotoPost(o){let t=this.arr.findIndex(t=>t._id===o);return-1===t?(console.log("No posts with such ID"),!1):(this.arr.splice(t,1),!0)}}},function(o,t,e){const s=e(0),l=e(1),a=new l;a.addPost(new s("lol","2018-02-23T23:02:42","asdasd#asfa asfa#efef#grgrd ","#",["kek"])),a.addPost(new s("kek","2018-02-23T22:01:40","asfaf#fdfd #adfad#rrr","#",["lol","kek"])),a.addPost(new s("lol","2018-02-22T01:11:42","#devil#paradise#beast","#",["lol","kek"])),a.addPost(new s("shpek","2018-02-21T23:59:43","My first#post","#",["lol","kek"])),a.addPost(new s("shrek","1999-09-09T12:02:12","Very #smart#clever person #Mum_loves_me#50$per_hour","#",["lol","kek"])),a.addPost(new s("dasha","2018-02-25T12:00:45","#description","#",["lol","kek"])),a.addPost(new s("lol","2018-02-25T14:45:59","#asfa#fdfd","#",["lol","kek"])),a.addPost(new s("drop database","2018-02-22T15:43:22","#fa af adfa #dgdg","#",["lol","kek"])),a.addPost(new s("kate","2018-20-02T13:25:43","fabfupevpb#kjfj #dfs lkdfn","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:43","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:44","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:45","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:46","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:47","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:48","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:49","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:50","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:51","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:52","fdaf#asfa","#",["lol","kek"])),a.addPost(new s("lol","2018-22-02T12:24:53","fdaf#asfa","#",["lol","kek"])),console.log("-getPhotoPosts"),console.log("10 posts:"),console.log(a.getPhotoPosts()),console.log("3 posts start from the second:"),console.log(a.getPhotoPosts(1,3)),console.log("skip = 6 and default-argument for top:"),console.log(a.getPhotoPosts(6)),console.log("posts after filtering:"),console.log(a.getPhotoPosts(0,10,{authors:["lol","kek"],tags:["#asfa","#fdfd"],startDate:new Date(2018,0,0)})),console.log("with invalid argument:"),console.log(a.getPhotoPosts("argument")),console.log(""),console.log("-getPhotoPost"),console.log("post with id 2:"),console.log(a.getPhotoPost("2")),console.log("post with id 100:"),console.log(a.getPhotoPost("100")),console.log("with invalid argument:"),console.log(a.getPhotoPost(100)),console.log(""),console.log("-validatePhotoPost"),console.log("with valid, necessary and not properties:"),console.log(new s("skateray17","2018-01-01","asfa#afa","#").validate()),console.log("with invalid createdAt:");const n=new s("skateray17","2018-01-01","asfa#afa","#");n.publDate=1,console.log(n.validate()),console.log(""),console.log("-addPhotoPost"),console.log("all posts: "),console.log(a),console.log("try to add invalid post: "),console.log(a.addPost(n)),console.log("all posts: "),console.log(a),console.log("try to add valid post: "),console.log(a.addPost(new s("lol","2018-22-02T12:24:53","fdaf#asfa","#",["lol","kek"]))),console.log("all posts: "),console.log(a),console.log(""),console.log("-editPhotoPost"),console.log("id=3 post before editing:"),console.log(a.getPhotoPost("3")),console.log("try to edit id=3 post:"),console.log(a.editPhotoPost("3",{description:"new description",likes:[]})),console.log("id=3 post after editing:"),console.log(a.getPhotoPost("3")),console.log("with invalid argument:"),console.log(a.editPhotoPost("")),console.log(""),console.log("-removePhotoPost"),console.log("with invalid argument:"),console.log(a.removePhotoPost("")),console.log("remove id=3 post"),console.log(a.removePhotoPost("3")),console.log("try to get id=3 post"),console.log(a.getPhotoPost("3")),console.log("all posts: "),console.log(a),o.exports={PhotoPost:s,PhotoPosts:l}}]);